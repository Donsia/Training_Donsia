#include<stdio.h>
void main()
	{
		int x=0,p=0,n=0,result=0;
		int invert(int,int,int);
		clrscr();
		printf("Enter any integer to invert(x):\n");
		x=get_input();
		printf("Enter the start position to invert(p):\n");
		p=get_input();
		printf("Enter the length to invert(n):\n");
		n=get_input();
		printf("Enter the binary value of %d is \t",x);
		result=invert(x,p,n);
		printf("\nInverted integer in decimal form is \t%d",result);
		getch();
	}
int get_input()
	{
		int num=0;
		int index=0;
		index=scanf("%d",&num);
		if (index!=1)
			{
				printf("enter valid number");
				scanf("%s");
				num= get_input();
			}  //recall the function if char is entered instead of int
		else if (num<0)
			{
				printf("enter positive number ");
				num= get_input();
			}  //recall the function if negative number is entered instead of positive
		return num;
	}
int invert(int x,int p,int n)
	{
		int i,flag,limit,length,binary[15];
		length=0;
		while(x>0)
			{
				binary[length]=x%2;
				x=x/2;
				length++;
			}
		for(i=length-1;i>-1;i--)
			{
				printf("%d",binary[i]);
			}
		printf("\n");
		limit=p+n;
		if(limit<length)
			{
				for(i=p-1;i<p+n-1;i++)
					{
						if(binary[i]==0)
							binary[i]=1;
						else
							binary[i]=0;
					}
			}
		else
			{
				printf("you have entered large value for p and n");
			}
		printf("Inverted integer in binary form is\t");
		for(i=length-1;i>-1;i--)
			{
				printf("%d",binary[i]);
			}
		flag=0;
		for(i=length-1;i>=0;i--)
			{
				flag=flag*2+binary[i];
			}
		return flag;
	}

